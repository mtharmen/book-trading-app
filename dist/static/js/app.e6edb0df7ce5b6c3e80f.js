webpackJsonp([1],{"/KFX":function(e,t,a){"use strict";function r(e){a("Wtpv")}var s=a("AHJT"),i=a("2CXn"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-5ee3ad86",null);t.a=c.exports},"0T2n":function(e,t,a){"use strict";var r=a("NxGh");t.a={name:"trade-card",components:{loading:r.a},props:["username","trade","books"],computed:{offerText:function(){return this.trade.offer.owner!==this.username?this.trade.offer.owner+" is ":"You are"},requestText:function(){return this.trade.request.owner!==this.username?this.trade.request.owner+"'s":"your"},resultText:function(){return this.trade.offer.owner===this.username?this.trade.request.owner+" has "+this.trade.status+" this trade":"You have "+this.trade.status+" this trade"},tradeStatus:function(){return{"bg-success":"accepted"===this.trade.status,"bg-danger":"declined"===this.trade.status}},mine:function(){return this.trade.offer.owner===this.username?"offer":"request"},theirs:function(){return this.trade.offer.owner===this.username?"request":"offer"}},methods:{moreDetail:function(e){var t=this.trade[e].owner;this.trade.offer.recieved&&this.trade.request.recieved&&(t="offer"===e?this.trade.request.owner:this.trade.offer.owner);var a={owner:t,ISBN:this.trade[e].ISBN};this.$emit("detail",a)},cancel:function(){this.$emit("cancel",this.trade._id)},decline:function(){this.$emit("decline",this.trade._id)},accept:function(){this.$emit("accept",this.trade._id)},submit:function(){this.$emit("submit")},userChoice:function(){this.$emit("userChoice")},getAddress:function(){this.$emit("getAddress",this.trade._id)},recieved:function(){var e=confirm("Have you recieved your book?"),t="";e&&(t=this.trade.offer.owner===this.username?"offer":"request",this.$emit("recieved",this.trade._id,t))},hideTrade:function(){var e="";e=this.trade.offer.owner===this.username?"offer":"request",this.$emit("hideTrade",this.trade._id,e)}}}},"1wA2":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"nav nav-pills nav-fill"},[a("li",{staticClass:"nav-item fake-pointer",on:{click:function(t){e.outgoingTab=!1}}},[a("a",{staticClass:"nav-link",class:{active:!e.outgoingTab}},[e._v("Incoming")])]),e._v(" "),a("li",{staticClass:"nav-item fake-pointer",on:{click:function(t){e.outgoingTab=!0}}},[a("a",{staticClass:"nav-link",class:{active:e.outgoingTab}},[e._v("Outgoing")])])]),e._v(" "),a("hr"),e._v(" "),e.error?a("div",{staticClass:"alert alert-danger text-center"},[a("strong",[e._v("Error:")]),e._v(" "+e._s(e.error))]):e._e(),e._v(" "),a("b-dropdown",{staticClass:"m-md-2",attrs:{id:"ddown2",text:"Showing "+e.choice+" Trades",variant:"info"}},[a("b-dropdown-item",{on:{click:function(t){e.choice="Pending"}}},[e._v("Pending")]),e._v(" "),a("b-dropdown-item",{on:{click:function(t){e.choice="Accepted"}}},[e._v("Accepted")]),e._v(" "),a("b-dropdown-item",{on:{click:function(t){e.choice="Declined"}}},[e._v("Declined")]),e._v(" "),a("b-dropdown-item",{on:{click:function(t){e.choice="All"}}},[e._v("All")])],1),e._v(" "),e.outgoingTab?e._e():a("div",{staticClass:"trade-list"},[e.filteredTrades.incoming.length?a("div",[e._l(e.filteredTrades.incoming,function(t,r){return[a("app-trade-card",{key:"i"+r,attrs:{username:e.user.username,trade:t},on:{decline:e.decline,accept:e.accept,detail:e.moreDetail,getAddress:e.getAddress,recieved:e.recieved}})]})],2):e._e(),e._v(" "),e.filteredTrades.incoming.length?e._e():a("h2",[e._v("You have no "+e._s("All"!==e.choice?e.choice.toLowerCase():"")+" incoming trades")])]),e._v(" "),e.outgoingTab?a("div",{staticClass:"trade-list"},[e.filteredTrades.outgoing.length?a("div",[e._l(e.filteredTrades.outgoing,function(t,r){return[a("app-trade-card",{key:"o"+r,attrs:{username:e.user.username,trade:t},on:{cancel:e.cancel,detail:e.moreDetail,getAddress:e.getAddress,recieved:e.recieved}})]})],2):e._e(),e._v(" "),e.filteredTrades.outgoing.length?e._e():a("h2",[e._v("You have no "+e._s("All"!==e.choice?e.choice.toLowerCase():"")+" outgoing trades")])]):e._e(),e._v(" "),a("app-detail-modal",{ref:"details",attrs:{type:"info"}}),e._v(" "),a("app-mailing-modal",{ref:"mailing"})],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},"2CXn":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Search")]),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),e.findBooks(t)}}},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[e._v("\n        Title\n      ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search.title,expression:"search.title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:e.previous.title,maxlength:"50"},domProps:{value:e.search.title},on:{input:function(t){t.target.composing||(e.search.title=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[e._v("\n        Author\n      ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search.author,expression:"search.author",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:e.previous.author,maxlength:"50"},domProps:{value:e.search.author},on:{input:function(t){t.target.composing||(e.search.author=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[e._v("\n        ISBN\n      ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.search.isbn,expression:"search.isbn",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"isbn",placeholder:e.previous.isbn,maxlength:"50"},domProps:{value:e.search.isbn},on:{input:function(t){t.target.composing||(e.search.isbn=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Search")])]),e._v(" "),a("br"),e._v(" "),a("app-loading",{directives:[{name:"show",rawName:"v-show",value:e.submitting,expression:"submitting"}]}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.error&&!e.submitting,expression:"error && !submitting"}],staticClass:"alert alert-danger text-center"},[a("strong",[e._v("Error:")]),e._v(" "+e._s(e.error)+"\n  ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.submitting&&!e.error,expression:"!submitting && !error"}]},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchResults.length,expression:"searchResults.length"}]},[a("app-book-grid",{attrs:{books:e.searchResults,type:"add"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchResults.length&&!e.pristine,expression:"!searchResults.length && !pristine"}]},[e._v("No Books Found")])])],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},"6dK4":function(e,t){},"8taH":function(e,t,a){"use strict";t.a={name:"loading"}},"8vkE":function(e,t){},A5bT:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._t("default"),e._v(" "),a("b-modal",{ref:"detailModal",attrs:{id:"detailModal","hide-footer":"info"===e.type,title:e.book.title}},[e.book?a("div",{staticClass:"media"},[a("img",{staticClass:"d-flex mr-3",attrs:{src:e.book.image}}),e._v(" "),a("div",{staticClass:"media-body"},[a("h6",{staticClass:"card-subtitle mb-2"},[e._v("\n          "+e._s(e.book.authors.length>1?"Authors:":"Author:")+"\n          "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.book.authors.join(", ")))])]),e._v(" "),a("h6",{staticClass:"card-subtitle mb-2"},[e._v("\n          ISBN: "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.book.ISBN))])]),e._v(" "),"trade"===e.type||"info"===e.type?a("h6",{staticClass:"card-subtitle mb-2"},[e._v("\n          Owner: "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.book.owner))])]):e._e(),e._v(" "),e.user.username===e.book.owner?a("button",{staticClass:"btn btn-info",on:{click:e.tradeLink}},[e._v("View all trades with your book")]):e._e()])]):e._e(),e._v(" "),a("div",{class:{"w-100":"remove"===e.type},slot:"modal-footer"},[e.added&&"trade"===e.type?a("small",[e._v("You have this book in your library")]):e._e(),e._v(" "),e.user.username||"trade"!==e.type?e._e():a("small",[e._v("You need to be logged in to trade")]),e._v(" "),"trade"===e.type?a("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.user.username||e.added},on:{click:e.newTrade}},[e._v("Trade")]):e._e(),e._v(" "),e.added&&"add"===e.type?a("small",[e._v("You have already added this book to your library")]):e._e(),e._v(" "),"add"===e.type?a("button",{staticClass:"btn btn-success",attrs:{disabled:e.added},on:{click:e.add}},[e._v("Add")]):e._e(),e._v(" "),"remove"===e.type?a("div",[e.book.traded?e._e():a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm,expression:"confirm"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter the ISBN to confirm"},domProps:{value:e.confirm},on:{input:function(t){t.target.composing||(e.confirm=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-danger",attrs:{disabled:e.confirm!==e.book.ISBN},on:{click:e.remove}},[e._v("Remove")])])]),e._v(" "),e.book.traded?a("span",{staticClass:"text-center"},[e._v("\n          This book is part of an accepted trade.\n          "),a("router-link",{attrs:{to:{path:"my-trades",query:{tradeID:e.book.traded}}}},[e._v("Click here to go to that trade.")])],1):e._e()]):e._e()])])],2)},s=[],i={render:r,staticRenderFns:s};t.a=i},AHJT:function(e,t,a){"use strict";var r=a("fZjL"),s=a.n(r),i=a("vvwH"),o=a("SYq0"),n=a("NxGh"),c=a("lPMg"),u=a("gZXP");t.a={name:"search",components:{"app-loading":n.a,"app-book-grid":c.a},data:function(){return{search:{title:"",author:"",isbn:""},previous:{title:"Enter a title",author:"Enter an author",isbn:"Enter an ISBN"},submitting:!1,error:"",bookStore:i.a.store,searchResults:[]}},created:function(){this.getBooks()},watch:{$route:function(){this.getBooks()}},computed:{pristine:function(){return"Enter a title"===this.previous.title&&"Enter an author"===this.previous.author&&"Enter an ISBN"===this.previous.isbn}},methods:{getBooks:function(){var e=this;a.i(u.c)(o.a.user.username,1).then(function(t){e.submitting=!1,i.a.fillBookStore(t.data)}).catch(function(t){e.submitting=!1,e.error=t.message})},findBooks:function(){var e=this;this.submitting=!0,this.error="",this.searchResults=[];var t={};s()(this.search).forEach(function(a){t[a]=e.search[a].replace(" ","+")}),a.i(u.n)(t).then(function(t){e.submitting=!1,e.clearSearch(),e.searchResults=t.data}).catch(function(t){e.submitting=!1,e.clearSearch(),e.error=t.message})},clearSearch:function(){var e=this,t={title:"Enter a title",author:"Enter an author",isbn:"Enter an ISBN"};s()(this.search).forEach(function(a){e.previous[a]=e.search[a]?e.search[a]:t[a],e.search[a]=""})}}}},Avsb:function(e,t){},BRBB:function(e,t){},"Bn+e":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._t("default"),e._v(" "),a("b-modal",{ref:"mailingModal",attrs:{id:"mailingModal","hide-footer":"",title:e.username}},[a("p",[e._v("Name: "+e._s(e.fullname))]),e._v(" "),a("p",[e._v("Address: "+e._s(e.address.city)+", "+e._s(e.address.province))])])],2)},s=[],i={render:r,staticRenderFns:s};t.a=i},DX67:function(e,t){},Fs8J:function(e,t,a){"use strict";var r=a("vvwH"),s=a("lPMg"),i=a("NxGh"),o=a("gZXP");t.a={name:"home",components:{"app-book-grid":s.a,"app-loading":i.a},data:function(){return{bookStore:r.a.store,loading:!1,error:""}},created:function(){this.getBooks()},watch:{$route:function(){this.getBooks()}},methods:{getBooks:function(){var e=this;this.loading=!0,a.i(o.c)().then(function(t){e.loading=!1,r.a.fillBookStore(t.data)}).catch(function(t){e.loading=!1,e.error=t.message})}}}},HCTz:function(e,t,a){"use strict";t.a={name:"header"}},HVYz:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-navbar",{attrs:{toggleable:"md",type:"light",variant:"light"}},[a("div",{staticClass:"container"},[a("b-nav-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),a("b-navbar-brand",{staticClass:"ml-auto",attrs:{to:"/"}},[e._v("Book Trading App")]),e._v(" "),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[e._t("nav-items")],2)],1)])},s=[],i={render:r,staticRenderFns:s};t.a=i},HxWh:function(e,t,a){"use strict";var r=a("SYq0"),s=a("vvwH"),i=a("r98m"),o=a("YaEn"),n=a("gZXP");t.a={name:"detail-modal",props:["type"],data:function(){return{book:"",confirm:"",user:r.a.user}},computed:{added:function(){var e=this;return s.a.store.books.some(function(t){return t.owner===e.user.username&&t.ISBN===e.book.ISBN})},title:function(){return this.book?this.book.title:"Untitled"}},methods:{showModal:function(e){this.book=e,this.$refs.detailModal.show()},newTrade:function(){i.a.setNewTrade(this.book),o.a.push("new-trade")},remove:function(){var e=this;this.confirm="",a.i(n.e)(this.book._id).then(function(t){s.a.removeBook(e.book.ISBN),e.close()}).catch(function(e){var t=e.message;console.error(t)})},add:function(){var e=this;a.i(n.f)(this.book).then(function(t){s.a.addBook(t.data),e.close()}).catch(function(e){var t=e.message;console.error(t)})},close:function(){this.submitting||this.$refs.detailModal.hide()},tradeLink:function(){this.close(),o.a.push({name:"my-trades",query:{ISBN:this.book.ISBN}})}}}},IF6z:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("app-loading"):e._e(),e._v(" "),e.error&&!e.loading?a("div",{staticClass:"alert alert-danger text-center"},[a("strong",[e._v("Error:")]),e._v(" "+e._s(e.error)+"\n  ")]):e._e(),e._v(" "),e.loading||e.error?e._e():a("div",[e.bookStore.books.length?a("app-book-grid",{attrs:{books:e.bookStore.books,type:"trade"}}):e._e()],1),e._v(" "),e.bookStore.books.length||e.error?e._e():a("h1",{staticClass:"text-center"},[e._v("No Books")])],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},"Iez+":function(e,t){},Jg8B:function(e,t){e.exports="data:image/png;base64,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"},KDzY:function(e,t){},M93x:function(e,t,a){"use strict";function r(e){a("8vkE")}var s=a("xJD8"),i=a("rZ/A"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,null,null);t.a=c.exports},MNPj:function(e,t,a){"use strict";var r=a("vkQU"),s=a("NxGh"),i=a("PAp8"),o=a("SYq0"),n=a("r98m"),c=a("vvwH"),u=a("YaEn"),l=a("gZXP");t.a={name:"new-trade",components:{"app-detail-modal":r.a,loading:s.a,"app-trade-card":i.a},data:function(){return{store:c.a.store,submitting:!1,error:"",user:o.a.user,trade:{offer:{owner:o.a.user.username},request:n.a.store.newTrade}}},created:function(){this.getBooks()},watch:{$route:function(){this.getBooks()}},methods:{getBooks:function(){var e=this;c.a.pruneToUser(o.a.user.username),a.i(l.c)(this.trade.request.owner,1,1).then(function(t){e.compareBooks(t.data)}).catch(function(t){e.error=t.message})},moreDetail:function(e){this.$refs.details.showModal(e)},compareBooks:function(e){this.store.books.forEach(function(t,a){e.indexOf(t.ISBN)>-1&&c.a.changeBookStatus(a,"invalid")})},checkBook:function(){this.error="",this.trade.offer.traded&&(this.error=this.trade.request.owner+" already owns this book")},submit:function(){var e=this;this.submitting=!0,this.error="";var t={offer:{owner:this.trade.offer.owner,ISBN:this.trade.offer.ISBN,image:this.trade.offer.image},request:{owner:this.trade.request.owner,ISBN:this.trade.request.ISBN,image:this.trade.request.image}};a.i(l.d)(t).then(function(t){e.submitting=!1,u.a.push("my-trades")}).catch(function(t){e.submitting=!1,e.error=t.message})}},beforeDestroy:function(){n.a.clearNewTrade()}}},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("/5sW"),s=a("M93x"),i=a("YaEn"),o=a("sCSS"),n=a("4TSb"),c=a.n(n);r.a.use(o.a),c.a.Validator.updateDictionary({en:{messages:{confirmed:function(){return"Your passwords not match"}}}}),r.a.use(c.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:i.a,render:function(e){return e(s.a)}})},NxGh:function(e,t,a){"use strict";function r(e){a("6dK4")}var s=a("8taH"),i=a("kF6R"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-daf7d564",null);t.a=c.exports},Oqcl:function(e,t,a){"use strict";var r=a("PAp8"),s=a("NxGh"),i=a("vkQU"),o=a("aSwv"),n=a("SYq0"),c=a("r98m"),u=a("gZXP");t.a={name:"my-trades",components:{"app-trade-card":r.a,"app-loading":s.a,"app-detail-modal":i.a,"app-mailing-modal":o.a},props:["tradeID","ISBN"],data:function(){return{submitting:!1,error:"",user:n.a.user,trades:c.a.store.trades,choice:"All",outgoingTab:!1,allTrades:!1}},created:function(){this.getTrades("offer"),this.getTrades("request")},watch:{$route:function(){this.getTrades("offer"),this.getTrades("request")}},computed:{filteredTrades:function(){var e={offers:[],requests:[]};return e.outgoing=this.filterOut(this.trades.outgoing),e.incoming=this.filterOut(this.trades.incoming),e}},methods:{getTrades:function(e){var t=this;this.submitting=!0;var r="offer"===e?"fillOutgoing":"fillIncoming";a.i(u.g)(e,this.ISBN,this.tradeID).then(function(e){t.submitting=!1,c.a[r](e.data)}).catch(function(e){t.submitting=!1,t.error=e.message})},moreDetail:function(e){var t=this;this.error="",a.i(u.h)(e.owner,e.ISBN).then(function(e){t.$refs.details.showModal(e.data)}).catch(function(e){t.error=e.message})},filterOut:function(e){var t=["pending","declined","accepted"],a="";return a="All"!==this.choice?[this.choice.toLowerCase()]:t,e.filter(function(e){return a.indexOf(e.status)>-1})},cancel:function(e){var t=this;this.submtting=!0,c.a.setError(e,void 0),a.i(u.i)(e).then(function(a){t.submitting=!1,c.a.removeOutgoing(e)}).catch(function(a){t.submitting=!1,c.a.setError(e,a.message)})},decline:function(e){this.respond(e,"declined")},accept:function(e){this.respond(e,"accepted")},respond:function(e,t){var r=this;this.submitting=!0,c.a.setError(e,void 0),a.i(u.j)(e,t).then(function(a){"declined"===t?(r.submitting=!1,c.a.updateTrade(e,t)):(r.getTrades("offer"),r.getTrades("request"))}).catch(function(t){r.submitting=!1,c.a.setError(e,t.message)})},getAddress:function(e){var t=this;a.i(u.k)(e).then(function(e){t.$refs.mailing.showModal(e.data)}).catch(function(e){t.error=e.message})},recieved:function(e,t){var r=this;this.submitting=!0,a.i(u.l)(e).then(function(a){r.submitting=!1,c.a.recievedBook(e,t)}).catch(function(e){r.submitting=!1,r.error=e.message})},fetchData:function(){this.getTrades("offer"),this.getTrades("request")}}}},P7zB:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("ul",{staticClass:"nav nav-pills nav-fill"},[a("li",{staticClass:"nav-item fake-pointer",on:{click:function(t){e.switchTab("personal")}}},[a("a",{staticClass:"nav-link",class:"personal"===e.tab?"active":""},[e._v("Personal Info")])]),e._v(" "),a("li",{staticClass:"nav-item fake-pointer",on:{click:function(t){e.switchTab("email")}}},[a("a",{staticClass:"nav-link",class:"email"===e.tab?"active":""},[e._v("Email")])]),e._v(" "),a("li",{staticClass:"nav-item fake-pointer",on:{click:function(t){e.switchTab("password")}}},[a("a",{staticClass:"nav-link",class:"password"===e.tab?"active":""},[e._v("Password")])])])]),e._v(" "),a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault(),e.update(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"currentPassword"}},[e._v("Current Password")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.updateForm.currentPassword,expression:"updateForm.currentPassword"}],staticClass:"form-control",attrs:{name:"currentPassword",type:"password","data-vv-as":"current password"},domProps:{value:e.updateForm.currentPassword},on:{input:function(t){t.target.composing||(e.updateForm.currentPassword=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("currentPassword"),expression:"errors.has('currentPassword')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("currentPassword")))])]),e._v(" "),"email"===e.tab?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.updateForm.email,expression:"updateForm.email"}],staticClass:"form-control",attrs:{name:"email",type:"email",placeholder:e.user.email},domProps:{value:e.updateForm.email},on:{input:function(t){t.target.composing||(e.updateForm.email=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("email")))])]):e._e(),e._v(" "),"personal"===e.tab?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"firstname"}},[e._v("First Name")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha|max:50",expression:"'required|alpha|max:50'"},{name:"model",rawName:"v-model",value:e.updateForm.firstname,expression:"updateForm.firstname"}],staticClass:"form-control",attrs:{name:"firstname",type:"text",placeholder:e.user.firstname,maxlength:"50"},domProps:{value:e.updateForm.firstname},on:{input:function(t){t.target.composing||(e.updateForm.firstname=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("firstname"),expression:"errors.has('firstname')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("firstname")))])]):e._e(),e._v(" "),"personal"===e.tab?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"lastname"}},[e._v("Last Name")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha|max:50",expression:"'required|alpha|max:50'"},{name:"model",rawName:"v-model",value:e.updateForm.lastname,expression:"updateForm.lastname"}],staticClass:"form-control",attrs:{name:"lastname",type:"text",placeholder:e.user.lastname,maxlength:"50"},domProps:{value:e.updateForm.lastname},on:{input:function(t){t.target.composing||(e.updateForm.lastname=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("lastname"),expression:"errors.has('lastname')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("lastname")))])]):e._e(),e._v(" "),"personal"===e.tab?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"province"}},[e._v("Province/Territory")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.updateForm.province,expression:"updateForm.province"}],staticClass:"form-control",attrs:{name:"province",id:"province"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.updateForm.province=t.target.multiple?a:a[0]}}},e._l(e.choices,function(t,r){return a("option",{key:r},[e._v(e._s(t))])})),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("province"),expression:"errors.has('province')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("province")))])]):e._e(),e._v(" "),"personal"===e.tab?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"city"}},[e._v("City")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha|max:50",expression:"'required|alpha|max:50'"},{name:"model",rawName:"v-model",value:e.updateForm.city,expression:"updateForm.city"}],staticClass:"form-control",attrs:{name:"city",type:"text",placeholder:e.user.city,maxlength:"50"},domProps:{value:e.updateForm.city},on:{input:function(t){t.target.composing||(e.updateForm.city=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("city"),expression:"errors.has('city')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("city")))])]):e._e(),e._v(" "),"password"===e.tab?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:4",expression:"'required|min:4'"},{name:"model",rawName:"v-model",value:e.updateForm.password,expression:"updateForm.password"}],staticClass:"form-control",attrs:{name:"password",type:"password"},domProps:{value:e.updateForm.password},on:{input:function(t){t.target.composing||(e.updateForm.password=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("password")))])]):e._e(),e._v(" "),"password"===e.tab?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password2"}},[e._v("Password Confirmation")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"},{name:"model",rawName:"v-model",value:e.updateForm.password2,expression:"updateForm.password2"}],staticClass:"form-control",attrs:{name:"password2",type:"password","data-vv-as":"password confirmation"},domProps:{value:e.updateForm.password2},on:{input:function(t){t.target.composing||(e.updateForm.password2=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password2"),expression:"errors.has('password2')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("password2")))])]):e._e(),e._v(" "),e.error?a("div",{staticClass:"alert alert-danger text-center"},[a("strong",[e._v("Error:")]),e._v(" "+e._s(e.error))]):e._e(),e._v(" "),a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit",disabled:!e.formCheck}},[e.submitting?a("app-loading",[e._v("Submitting...")]):e._e(),e._v(" "),e.submitting?e._e():a("span",[e._v("Submit")])],1)])])])])])},s=[],i={render:r,staticRenderFns:s};t.a=i},PAp8:function(e,t,a){"use strict";function r(e){a("YdBS")}var s=a("0T2n"),i=a("xfZZ"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-02b93fb4",null);t.a=c.exports},QYH7:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.loginModal",modifiers:{loginModal:!0}}]},[e._t("default")],2),e._v(" "),a("b-modal",{ref:"loginModal",attrs:{id:"loginModal","hide-footer":"",size:"lg","no-close-on-backdrop":"","no-close-on-esc":""},on:{shown:e.clear}},[a("template",{slot:"modal-header"},[a("ul",{staticClass:"nav nav-pills nav-fill"},[a("li",{staticClass:"nav-item fake-pointer",on:{click:function(t){e.loginType(!1)}}},[a("a",{staticClass:"nav-link",class:{active:!e.signup}},[e._v("Login")])]),e._v(" "),a("li",{staticClass:"nav-item fake-pointer",on:{click:function(t){e.loginType(!0)}}},[a("a",{staticClass:"nav-link",class:{active:e.signup}},[e._v("Sign Up")])])]),e._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.close},slot:"close-button"},[a("span",[e._v("Ã—")])])]),e._v(" "),a("form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault(),e.login(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.userForm.email,expression:"userForm.email"}],staticClass:"form-control",attrs:{name:"email",type:"email"},domProps:{value:e.userForm.email},on:{input:function(t){t.target.composing||(e.userForm.email=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("email")))])]),e._v(" "),e.signup?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v("Username")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha|min:2|max:24",expression:"'required|alpha|min:2|max:24'"},{name:"model",rawName:"v-model",value:e.userForm.username,expression:"userForm.username"}],staticClass:"form-control",attrs:{name:"username",type:"text",maxlength:"24"},domProps:{value:e.userForm.username},on:{input:function(t){t.target.composing||(e.userForm.username=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("username"),expression:"errors.has('username')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("username")))])]):e._e(),e._v(" "),e.signup?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"firstname"}},[e._v("First Name")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha|max:50",expression:"'required|alpha|max:50'"},{name:"model",rawName:"v-model",value:e.userForm.firstname,expression:"userForm.firstname"}],staticClass:"form-control",attrs:{name:"firstname",type:"text",maxlength:"50"},domProps:{value:e.userForm.firstname},on:{input:function(t){t.target.composing||(e.userForm.firstname=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("firstname"),expression:"errors.has('firstname')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("firstname")))])]):e._e(),e._v(" "),e.signup?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"lastname"}},[e._v("Last Name")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha|max:50",expression:"'required|alpha|max:50'"},{name:"model",rawName:"v-model",value:e.userForm.lastname,expression:"userForm.lastname"}],staticClass:"form-control",attrs:{name:"lastname",type:"text",maxlength:"50"},domProps:{value:e.userForm.lastname},on:{input:function(t){t.target.composing||(e.userForm.lastname=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("lastname"),expression:"errors.has('lastname')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("lastname")))])]):e._e(),e._v(" "),e.signup?a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"province"}},[e._v("Province/Territory")]),e._v(" "),a("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.userForm.province,expression:"userForm.province"}],staticClass:"form-control",attrs:{name:"province",id:"province"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.userForm.province=t.target.multiple?a:a[0]}}},e._l(e.choices,function(t,r){return a("option",{key:r},[e._v(e._s(t))])})),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("province"),expression:"errors.has('province')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("province")))])]),e._v(" "),a("div",{staticClass:"form-group col-6"},[a("label",{attrs:{for:"city"}},[e._v("City")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha|max:50",expression:"'required|alpha|max:50'"},{name:"model",rawName:"v-model",value:e.userForm.city,expression:"userForm.city"}],staticClass:"form-control",attrs:{name:"city",type:"text",maxlength:"50"},domProps:{value:e.userForm.city},on:{input:function(t){t.target.composing||(e.userForm.city=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("city"),expression:"errors.has('city')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("city")))])])]):e._e(),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:4",expression:"'required|min:4'"},{name:"model",rawName:"v-model",value:e.userForm.password,expression:"userForm.password"}],staticClass:"form-control",attrs:{name:"password",type:"password"},domProps:{value:e.userForm.password},on:{input:function(t){t.target.composing||(e.userForm.password=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("password")))])]),e._v(" "),e.signup?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password2"}},[e._v("Password Confirmation")]),e._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"},{name:"model",rawName:"v-model",value:e.userForm.password2,expression:"userForm.password2"}],staticClass:"form-control",attrs:{name:"password2",type:"password","data-vv-as":"password confirmation"},domProps:{value:e.userForm.password2},on:{input:function(t){t.target.composing||(e.userForm.password2=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password2"),expression:"errors.has('password2')"}],staticClass:"small text-danger"},[e._v(e._s(e.errors.first("password2")))])]):e._e(),e._v(" "),e.error?a("div",{staticClass:"alert alert-danger text-center"},[a("strong",[e._v("Error:")]),e._v(" "+e._s(e.error))]):e._e(),e._v(" "),a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit",disabled:e.errors.any()||e.formCheck}},[e.submitting?a("app-loading",[e._v("Submitting...")]):e._e(),e._v(" "),e.submitting?e._e():a("span",[e._v("Submit")])],1)])],2)],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},S5qR:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-update-form")],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},"S82+":function(e,t,a){"use strict";t.a={name:"mailing-modal",data:function(){return{address:"",username:""}},computed:{fullname:function(){return this.address.firstname+" "+this.address.lastname}},methods:{showModal:function(e){this.address=e.profile,this.username=e.username,this.$refs.mailingModal.show()},close:function(){this.$refs.mailingModal.hide()}}}},SJEc:function(e,t){},SYq0:function(e,t,a){"use strict";var r=a("fZjL"),s=a.n(r);t.a={user:{username:"",email:"",firstname:"",lastname:"",city:"",province:"",role:""},login:function(e){this.setLocalStorage(e),this.setUserInfo(e)},logout:function(){this.removeLocalStorage()},setLocalStorage:function(e){localStorage.setItem("token",e.token),localStorage.setItem("exp",e.exp),localStorage.setItem("username",e.username),localStorage.setItem("email",e.email),localStorage.setItem("profile",e.profile),localStorage.setItem("role",e.role)},setUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e=e||{username:localStorage.getItem("username"),email:localStorage.getItem("email"),profile:localStorage.getItem("profile"),role:localStorage.getItem("role")},this.user.username=e.username,this.user.email=e.email;var t=JSON.parse(e.profile);this.user.firstname=t.firstname,this.user.lastname=t.lastname,this.user.province=t.province,this.user.city=t.city,this.user.role=e.role},removeLocalStorage:function(){var e=this;localStorage.removeItem("token"),localStorage.removeItem("exp"),localStorage.removeItem("username"),localStorage.removeItem("email"),localStorage.removeItem("profile"),localStorage.removeItem("role"),s()(this.user).forEach(function(t){e.user[t]=""})},checkToken:function(){return Date.now()<JSON.parse(1e3*localStorage.getItem("exp"))},checkAdmin:function(){return"admin"===localStorage.getItem("role")}}},TVmP:function(e,t,a){"use strict";function r(e){a("btxI")}var s=a("UthT"),i=a("bwa9"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-442e680e",null);t.a=c.exports},TtvV:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("My Books")]),e._v(" "),e.loading?a("app-loading"):e._e(),e._v(" "),e.error&&!e.loading?a("div",{staticClass:"alert alert-danger text-center"},[a("strong",[e._v("Error:")]),e._v(" "+e._s(e.error)+"\n  ")]):e._e(),e._v(" "),e.loading||e.error?e._e():a("div",[a("app-book-grid",{attrs:{books:e.bookStore.books,type:"remove"}})],1),e._v(" "),e.bookStore.books.length||e.error?e._e():a("h1",{staticClass:"text-center"},[e._v("No Books")]),e._v(" "),a("router-link",{staticClass:"btn btn-success",attrs:{to:"/add-book",tag:"button"}},[e._v("Add a Book")])],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},Uof6:function(e,t,a){"use strict";function r(e){a("SJEc")}var s=a("Oqcl"),i=a("1wA2"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-0a467d8e",null);t.a=c.exports},UthT:function(e,t,a){"use strict";t.a={name:"footer"}},VeAd:function(e,t,a){"use strict";function r(e){a("Avsb")}var s=a("eBed"),i=a("QYH7"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-3b179ba2",null);t.a=c.exports},Wtbs:function(e,t,a){"use strict";function r(e){a("BRBB")}var s=a("utp/"),i=a("P7zB"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-8797d0ea",null);t.a=c.exports},Wtpv:function(e,t){},YaEn:function(e,t,a){"use strict";var r=a("/5sW"),s=a("/ocq"),i=a("lO7g"),o=a("o9cx"),n=a("yc97"),c=a("jfDL"),u=a("Uof6"),l=a("wWbg"),d=a("SYq0"),m=a("r98m");r.a.use(s.a);var v=[{path:"/",name:"Home",component:i.a},{path:"/add-book",name:"add-book",component:n.a,meta:{requireAuth:!0}},{path:"/profile",name:"Profile",component:o.a,meta:{requireAuth:!0}},{path:"/my-books",name:"my-books",component:c.a,meta:{requireAuth:!0}},{path:"/my-trades",name:"my-trades",component:u.a,props:function(e){return{tradeID:e.query.tradeID,ISBN:e.query.ISBN}},meta:{requireAuth:!0}},{path:"/new-trade",name:"new-trade",component:l.a,meta:{requireAuth:!0,requireSetup:!0}},{path:"*",redirect:"/"}],p=new s.a({mode:"history",routes:v});p.beforeEach(function(e,t,a){var r=e.matched.some(function(e){return e.meta.requireAuth}),s=e.matched.some(function(e){return e.meta.requireSetup});r?d.a.checkToken()?(s?m.a.store.newTrade.owner?a():a("/"):a(),a()):a("/"):a()}),t.a=p},YdBS:function(e,t){},aSwv:function(e,t,a){"use strict";function r(e){a("hPTo")}var s=a("S82+"),i=a("Bn+e"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-62ffc600",null);t.a=c.exports},btxI:function(e,t){},bwa9:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container"},[a("p",[e._t("footer-links")],2)])])},s=[],i={render:r,staticRenderFns:s};t.a=i},"c/Xk":function(e,t){},eBed:function(e,t,a){"use strict";var r=a("fZjL"),s=a.n(r),i=a("NxGh"),o=a("SYq0"),n=a("YaEn"),c=a("gZXP");t.a={name:"login-modal",components:{"app-loading":i.a},data:function(){return{submitting:!1,signup:!1,error:"",choices:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"],userForm:{email:"",username:"",password:"",password2:"",firstname:"",lastname:"",city:"",province:""}}},computed:{formCheck:function(){var e=this;return s()(this.fields).some(function(t){return e.fields[t].pristine})}},methods:{loginType:function(e){this.signup=e,this.clear()},login:function(){var e=this,t={email:this.userForm.email,password:this.userForm.password};this.signup&&(t.username=this.userForm.username,t.firstname=this.userForm.firstname,t.lastname=this.userForm.lastname,t.city=this.userForm.city,t.province=this.userForm.province),this.submitting=!0,(this.signup?c.a:c.b)(t).then(function(t){e.submitting=!1,o.a.login(t.data),n.a.push("my-books")}).catch(function(t){e.submitting=!1,e.error=t.message})},clear:function(){var e=this;s()(this.userForm).forEach(function(t){e.userForm[t]=""}),this.error="",this.$nextTick(function(){e.errors.clear()})},close:function(){this.submitting||this.$refs.loginModal.hide()}}}},gZXP:function(e,t,a){"use strict";function r(){return{headers:{authorization:"Bearer "+(localStorage.getItem("token")||"")}}}function s(e){return _.post("/auth/local/login",e)}function i(e){return _.post("/auth/local/signup",e)}function o(e){return _.post("/auth/update-info",e,r())}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s="?";return s+=e?"username="+e+"&":"",s+=a?"onlyISBN=1&":"",s+=t?"allBooks=1":"",_.get("/api/getBooks"+s,r())}function c(e,t){var a="?owner="+e+"&ISBN="+t;return _.get("/api/getBook"+a,r())}function u(e){var t="?";return t+=e.title?"title="+e.title+"&":"",t+=e.author?"author="+e.author+"&":"",t+=e.isbn?"isbn="+e.isbn+"&":"",_.get("/api/search"+t,r())}function l(e){return _.post("/api/addBook",e,r())}function d(e){return _.delete("/api/removeBook/"+e,r())}function m(e){return _.put("/api/makeTrade",{tradeInfo:e},r())}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="?type="+e;return i+=t?"&ISBN="+t:"",i+=a?"&tradeID="+a:"",i+=s?"&allTrades="+s:"",_.get("/api/getTrades"+i,r())}function p(e,t){return _.put("/api/respondToTrade/"+e,{response:t},r())}function f(e){return _.delete("/api/removeTrade/"+e,r())}function h(e){return _.get("/api/getAddress/"+e,r())}function g(e){return _.put("/api/completeTrade/"+e,{},r())}t.b=s,t.a=i,t.m=o,t.c=n,t.h=c,t.n=u,t.f=l,t.e=d,t.d=m,t.g=v,t.j=p,t.i=f,t.k=h,t.l=g;var A=a("//Fk"),b=a.n(A),I=a("mtWM"),w=a.n(I),_=w.a.create({baseURL:"http://localhost:8080",timeout:1e4});_.interceptors.response.use(null,function(e){return 500===e.response.status&&(window.location.href="http://localhost:8080/error?code=500"),b.a.reject(e.response.data)})},hFxT:function(e,t){},hPTo:function(e,t){},jfDL:function(e,t,a){"use strict";function r(e){a("hFxT")}var s=a("vSu6"),i=a("TtvV"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-6d9aa370",null);t.a=c.exports},kF6R:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[e._t("default"),e._v(" "),r("img",{attrs:{src:a("nuJt")}})],2)},s=[],i={render:r,staticRenderFns:s};t.a=i},lO7g:function(e,t,a){"use strict";function r(e){a("pwzt")}var s=a("Fs8J"),i=a("IF6z"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-640762bd",null);t.a=c.exports},lPMg:function(e,t,a){"use strict";function r(e){a("DX67")}var s=a("s5Iu"),i=a("qXcJ"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-2e377ea6",null);t.a=c.exports},nEK3:function(e,t){},nuJt:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ibGRzLXNwaW5uZXIiIHdpZHRoPSIyMDBweCIgIGhlaWdodD0iMjAwcHgiICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIHN0eWxlPSJiYWNrZ3JvdW5kOiBub25lOyI+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiMxZDNmNzIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC45MTY2NjY2NjY2NjY2NjY2cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiMxZDNmNzIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC44MzMzMzMzMzMzMzMzMzM0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSg2MCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiMxZDNmNzIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC43NXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoOTAgNTAgNTApIj4KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSI5LjQiIHJ5PSI0LjgiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjMWQzZjcyIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiB0aW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNjY2NjY2NjY2NjY2NjY2NnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iOS40IiByeT0iNC44IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzFkM2Y3MiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjU4MzMzMzMzMzMzMzMzMzRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDE1MCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiMxZDNmNzIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC41cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNTAgNTApIj4KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSI5LjQiIHJ5PSI0LjgiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjMWQzZjcyIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiB0aW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNDE2NjY2NjY2NjY2NjY2N3MiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMjEwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iOS40IiByeT0iNC44IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzFkM2Y3MiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjMzMzMzMzMzMzMzMzMzMzNzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDI0MCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiMxZDNmNzIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC4yNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iOS40IiByeT0iNC44IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzFkM2Y3MiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjE2NjY2NjY2NjY2NjY2NjY2cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMDAgNTAgNTApIj4KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSI5LjQiIHJ5PSI0LjgiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjMWQzZjcyIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiB0aW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuMDgzMzMzMzMzMzMzMzMzMzNzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDMzMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiMxZDNmNzIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSIwcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48L3N2Zz4="},o9cx:function(e,t,a){"use strict";function r(e){a("x//B")}var s=a("yoF/"),i=a("S5qR"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-aa24818a",null);t.a=c.exports},pwzt:function(e,t){},qXcJ:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},["add"!==e.type?a("div",{staticClass:"input-group mb-4"},[a("div",{staticClass:"input-group-addon"},[e._v("Filter by title")]),e._v(" "),e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.term,expression:"filter.term"}],staticClass:"form-control",domProps:{value:e.filter.term},on:{input:function(t){t.target.composing||(e.filter.term=t.target.value)}}})]):e._e(),e._v(" "),e._l(e.filtered,function(t,r){return[a("img",{key:r,staticClass:"image-fixed p-1",attrs:{src:t.image},on:{click:function(a){e.moreDetail(t)}}})]}),e._v(" "),a("app-detail-modal",{ref:"details",attrs:{type:e.type}})],2)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-btn"},[a("div",{staticClass:"btn-group",attrs:{role:"group"}})])}],i={render:r,staticRenderFns:s};t.a=i},qZ1V:function(e,t,a){"use strict";var r=a("/KFX");t.a={name:"add-book",components:{"app-search":r.a},data:function(){return{}}}},"r76/":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-search")],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},r98m:function(e,t,a){"use strict";t.a={store:{trades:{outgoing:[],incoming:[]},newTrade:{}},fillOutgoing:function(e){this.store.trades.outgoing=e},fillIncoming:function(e){this.store.trades.incoming=e},addOutgoing:function(e){this.store.trades.outgoing.push(e)},addRequest:function(e){this.store.trades.incoming.push(e)},clearOutgoing:function(){this.store.trades.outgoing=[]},clearIncoming:function(){this.store.trades.incoming=[]},removeOutgoing:function(e){this.store.trades.outgoing=this.store.trades.outgoing.filter(function(t){return t._id!==e})},removeIncoming:function(e){this.store.trades.incoming=this.store.trades.incoming.filter(function(t){return t._id!==e})},recievedBook:function(e,t){this.store.trades[t+"s"].forEach(function(a){a._id===e&&(a[t].recieved=!0)})},updateTrade:function(e,t){this.store.trades.incoming.forEach(function(a){a._id===e&&(a.status=t)})},setError:function(e,t){this.store.trades.incoming.forEach(function(a){a._id===e&&(a.error=t)})},setNewTrade:function(e){this.store.newTrade=e},clearNewTrade:function(){this.store.newTrade={}}}},"rZ/A":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"wrapper"}},[a("app-header",[a("b-nav",{staticClass:"ml-auto",attrs:{"is-nav-bar":""},slot:"nav-items"},[e.user.username?a("b-nav-item",{attrs:{to:"/profile"}},[a("i",{staticClass:"fa fa-user-circle-o",attrs:{"aria-hidden":"true"}}),e._v(" Profile")]):e._e(),e._v(" "),e.user.username?a("b-nav-item",{attrs:{to:"/my-books"}},[a("i",{staticClass:"fa fa-book",attrs:{"aria-hidden":"true"}}),e._v(" My Books")]):e._e(),e._v(" "),e.user.username?a("b-nav-item",{attrs:{to:"/my-trades"}},[a("i",{staticClass:"fa fa-arrows-h",attrs:{"aria-hidden":"true"}}),e._v("\nMy Trades")]):e._e(),e._v(" "),e.user.username?e._e():a("app-login-modal",[a("i",{staticClass:"fa fa-sign-in",attrs:{"aria-hidden":"true"}}),e._v(" Login\n         ")]),e._v(" "),e.user.username?a("b-nav-item",{on:{click:e.logout}},[a("i",{staticClass:"fa fa-sign-out",attrs:{"aria-hidden":"true"}}),e._v(" Logout\n         ")]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"container",attrs:{id:"content"}},[a("router-view")],1)],1),e._v(" "),a("app-footer",[a("small",{slot:"footer-links"},[a("a",{attrs:{href:"https://www.freecodecamp.com/challenges/manage-a-book-trading-club",target:"_blank"}},[e._v("FCC Book Trading App ")]),e._v(" | \n       "),a("a",{attrs:{href:"https://github.com/mtharmen/book-trading-app",target:"_blank"}},[e._v("GitHub Repo "),a("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})]),e._v(" | \n       "),a("a",{attrs:{href:"http://fontawesome.io/",target:"_blank"}},[e._v("Icons from Font Awesome "),a("i",{staticClass:"fa fa-font-awesome",attrs:{"aria-hidden":"true"}})]),e._v(" | \n       "),a("a",{attrs:{href:"https://developers.google.com/books/docs/overview",target:"_blank"}},[e._v("Book Data from Google Books ")])])])],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},s5Iu:function(e,t,a){"use strict";var r=a("vkQU");t.a={name:"book-grid",props:["books","type"],components:{"app-detail-modal":r.a},data:function(){return{filter:{term:"",type:"title"}}},computed:{filtered:function(){var e=this;return this.books.filter(function(t){return t[e.filter.type].toLowerCase().indexOf(e.filter.term)>-1})}},methods:{moreDetail:function(e){this.$refs.details.showModal(e)}}}},teIl:function(e,t,a){"use strict";function r(e){a("nEK3")}var s=a("HCTz"),i=a("HVYz"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-01c9a02a",null);t.a=c.exports},"utp/":function(e,t,a){"use strict";var r=a("fZjL"),s=a.n(r),i=a("NxGh"),o=a("SYq0"),n=a("gZXP");t.a={name:"update-form",components:{"app-loading":i.a},data:function(){return{submitting:!1,tab:"personal",error:"",updateForm:{currentPassword:"",email:"",firstname:"",lastname:"",city:"",province:o.a.user.province,password:"",password2:""},choices:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"],user:o.a.user}},computed:{formCheck:function(){var e=this,t=s()(this.fields).filter(function(e){return"currentPassword"!==e}),a=this.fields.currentPassword?this.fields.currentPassword.valid:null;return t.some(function(t){return e.fields[t].valid})&&a}},methods:{switchTab:function(e){this.tab=e,this.clear()},update:function(){var e=this;this.error="";var t={currentPassword:this.updateForm.currentPassword};"personal"===this.tab?(t.firstname=this.updateForm.firstname,t.lastname=this.updateForm.lastname,t.city=this.updateForm.city,t.province=this.updateForm.province):"email"===this.tab?t.email=this.updateForm.email:(t.password=this.updateForm.password,t.password2=this.updateForm.password2),this.submitting=!0,a.i(n.m)(t).then(function(t){e.submitting=!1,o.a.login(t.data),e.clear()}).catch(function(t){e.submitting=!1,e.error=t.message})},clear:function(){var e=this;s()(this.updateForm).forEach(function(t){e.updateForm[t]=""}),this.$nextTick(function(){e.errors.clear()})}}}},vSu6:function(e,t,a){"use strict";var r=a("lPMg"),s=a("NxGh"),i=a("vvwH"),o=a("SYq0"),n=a("YaEn"),c=a("gZXP");t.a={name:"my-books",components:{"app-book-grid":r.a,"app-loading":s.a},data:function(){return{bookStore:i.a.store,loading:!1,error:""}},created:function(){this.getBooks()},watch:{$route:function(){this.getBooks()}},methods:{getBooks:function(){var e=this;a.i(c.c)(o.a.user.username,1).then(function(t){e.loading=!1,i.a.fillBookStore(t.data)}).catch(function(t){e.loading=!1,e.error=t.message})},addBook:function(){n.a.push("add-book")},myTrades:function(){n.a.push("my-trades")}}}},vkQU:function(e,t,a){"use strict";function r(e){a("KDzY")}var s=a("HxWh"),i=a("A5bT"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-66aa93ee",null);t.a=c.exports},vvwH:function(e,t,a){"use strict";t.a={store:{books:[]},fillBookStore:function(e){this.clearBooks(),this.store.books=e},clearBooks:function(){this.store.books=[]},addBook:function(e){this.store.books.push(e)},removeBook:function(e){this.store.books=this.store.books.filter(function(t){return t.ISBN!==e})},compareBook:function(e){return this.store.books.some(function(t){return t.ISBN===e})},changeBookStatus:function(e,t){this.store.books[e].traded=t},pruneToUser:function(e){this.store.books=this.store.books.filter(function(t){return t.owner===e})}}},wWbg:function(e,t,a){"use strict";function r(e){a("Iez+")}var s=a("MNPj"),i=a("wYG5"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-a905e7fc",null);t.a=c.exports},wYG5:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.error?a("div",{staticClass:"alert alert-danger text-center"},[a("strong",[e._v("Error:")]),e._v(" "+e._s(e.error))]):e._e(),e._v(" "),a("app-trade-card",{attrs:{username:e.user.username,trade:e.trade,books:e.store.books},on:{userChoice:e.checkBook,detail:e.moreDetail,submit:e.submit}}),e._v(" "),a("app-detail-modal",{ref:"details",attrs:{type:"info"}})],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},"x//B":function(e,t){},xJD8:function(e,t,a){"use strict";var r=a("teIl"),s=a("TVmP"),i=a("VeAd"),o=a("SYq0"),n=a("YaEn");t.a={name:"app",components:{"app-header":r.a,"app-footer":s.a,"app-login-modal":i.a},data:function(){return{user:o.a.user}},methods:{logout:function(){o.a.logout(),n.a.push("/")}},beforeMount:function(){o.a.checkToken()?o.a.setUserInfo():o.a.removeLocalStorage()}}},xfZZ:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card text-center mb-2"},[r("div",{staticClass:"card-header",class:e.tradeStatus},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-5"},[e._v(e._s(e.offerText)+" offering")]),e._v(" "),r("div",{staticClass:"col-2"},[e._v("for")]),e._v(" "),r("div",{staticClass:"col-5"},[e._v(e._s(e.requestText))])])]),e._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-5"},[e.trade.offer.image?e._e():r("img",{staticClass:"invalid",attrs:{src:a("Jg8B")}}),e._v(" "),e.trade.offer.image?r("img",{class:{invalid:!e.trade.status&&e.trade.offer.traded},attrs:{src:e.trade.offer.image},on:{click:function(t){e.moreDetail("offer")}}}):e._e(),e._v(" "),r("div",{attrs:{id:"new-trade-input"}},[e.books&&!e.books.length?r("span",[r("p",[e._v("You have no books to trade")]),e._v(" "),r("router-link",{attrs:{to:"/add-book"}},[e._v("Click here to add a book to your library")])],1):e._e(),e._v(" "),e.books&&e.books.length?r("select",{directives:[{name:"model",rawName:"v-model",value:e.trade.offer,expression:"trade.offer"}],staticClass:"form-control",attrs:{name:"offer",id:"offer"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.trade.offer=t.target.multiple?a:a[0]},e.userChoice]}},[r("option",{attrs:{disabled:""},domProps:{value:e.trade.offer}},[e._v("Please select a book to offer")]),e._v(" "),e._l(e.books,function(t,a){return r("option",{key:a,domProps:{value:t}},[e._v(e._s(t.title))])})],2):e._e()])]),e._v(" "),e._m(0),e._v(" "),r("div",{staticClass:"col-5"},[r("img",{attrs:{src:e.trade.request.image},on:{click:function(t){e.moreDetail("request")}}})])])]),e._v(" "),r("div",{staticClass:"card-footer"},[e.trade.status?e._e():r("div",{staticClass:"pull-right"},[e.trade.error?r("span",{staticClass:"text-danger mr-auto"},[e._v(e._s(e.trade.error))]):e._e(),e._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{disabled:e.trade.offer.traded||!!e.trade.error},on:{click:e.submit}},[e._v("Submit Trade")])]),e._v(" "),e.trade.status?r("div",["pending"!==e.trade.status?r("div",[e._v("\n        "+e._s(e.resultText)+"\n        "),"accepted"===e.trade.status?r("div",[e.trade[e.mine].recieved?e._e():r("button",{staticClass:"btn btn-sm btn-info",on:{click:e.getAddress}},[e._v("\n            Get "+e._s(e.trade.offer.owner===e.username?e.trade.request.owner:e.trade.offer.owner)+"'s mailing info\n          ")]),e._v(" "),e.trade[e.mine].recieved?e._e():r("button",{staticClass:"btn btn-sm btn-success",on:{click:e.recieved}},[e._v("The Book Arrived")]),e._v(" "),e.trade[e.mine].recieved?r("p",[e._v("You said you recieved the book on "+e._s(Date(e.trade[e.mine].recieved).substring(0,15)))]):e._e(),e._v(" "),r("p",[e._v(e._s(e.trade[e.theirs].recieved?"They recieved the book on "+Date(e.trade[e.theirs].recieved).substring(0,15):"They have not recieved the book yet"))])]):e._e()]):e._e(),e._v(" "),"pending"===e.trade.status?r("span",{staticClass:"pull-right"},[e.trade.offer.owner!==e.username?r("button",{staticClass:"btn btn-danger",on:{click:e.decline}},[e._v("Decline")]):e._e(),e._v(" "),e.trade.offer.owner!==e.username?r("button",{staticClass:"btn btn-success",on:{click:e.accept}},[e._v("Accept")]):e._e(),e._v(" "),e.trade.offer.owner===e.username?r("button",{staticClass:"btn btn-warning",on:{click:e.cancel}},[e._v("Cancel")]):e._e()]):e._e()]):e._e()])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-2 middle"},[a("i",{staticClass:"fa fa-arrows-h",attrs:{"aria-hidden":"true"}})])}],i={render:r,staticRenderFns:s};t.a=i},yc97:function(e,t,a){"use strict";function r(e){a("c/Xk")}var s=a("qZ1V"),i=a("r76/"),o=a("VU/8"),n=r,c=o(s.a,i.a,n,"data-v-447f0788",null);t.a=c.exports},"yoF/":function(e,t,a){"use strict";var r=a("Wtbs");t.a={name:"profile",components:{"app-update-form":r.a},data:function(){return{msg:"Profile"}}}}},["NHnr"]);
//# sourceMappingURL=app.e6edb0df7ce5b6c3e80f.js.map